<p id="notice"><%= notice %></p>

<h1>Listing Books</h1>

<%= form_tag(books_path, :method => "get", id: "search-form") do %>
    <%= text_field_tag :search, params[:search], placeholder: "Search Books" %>
    <%= submit_tag "Search" %>
<% end %>

<table>
  <thead>
  <tr>
    <th>Title</th>
    <th>Description</th>
    <th>Authors</th>
    <th>Status</th>
    <% if current_admin.present? %>
        <th>Borrowed By</th>
    <%end%>
    <th colspan="3"></th>
  </tr>
  </thead>

  <% if @books.present? %>
      <% @books.each do |book| %>
          <tr>
            <td><%= book.title %></td>
            <td><%= book.description %></td>
            <td><%= book.authors %></td>
            <td><%= book.status %></td>
            <% if current_admin.present? %>
                <td><%= book.borrower %></td>
            <% end %>
            <td><%= link_to 'Show', book %></td>
            <% if current_admin.present? %>
                <td><%= link_to 'Edit', edit_book_path(book) %></td>
                <td><%= link_to 'Destroy', book, method: :delete, data: {confirm: 'Are you sure?'} %></td>
            <% end %>
          </tr>
      <% end %>
  <% else %>
      <p>There are no books containing the term(s) <%= params[:search] %>.</p>
  <% end %>

</table>

<br>

<% if current_admin.present? %>
<%= link_to 'New Book', new_book_path %>
<% end %>
